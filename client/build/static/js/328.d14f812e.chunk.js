"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[328],{103:function(e,s,n){var t=n(184);s.Z=function(){return(0,t.jsx)("div",{className:"footer",children:(0,t.jsxs)("div",{className:"footer-container",children:[(0,t.jsxs)("ul",{className:"footer-list",children:[(0,t.jsx)("li",{className:"footer-item",children:"Meta"}),(0,t.jsx)("li",{className:"footer-item",children:"About"}),(0,t.jsx)("li",{className:"footer-item",children:"Blog"}),(0,t.jsx)("li",{className:"footer-item",children:"Jobs"}),(0,t.jsx)("li",{className:"footer-item",children:"Help"}),(0,t.jsx)("li",{className:"footer-item",children:"API"}),(0,t.jsx)("li",{className:"footer-item",children:"Privacy"}),(0,t.jsx)("li",{className:"footer-item",children:"Terms"}),(0,t.jsx)("li",{className:"footer-item",children:"Top Accounts"}),(0,t.jsx)("li",{className:"footer-item",children:"Locations"}),(0,t.jsx)("li",{className:"footer-item",children:"Instagram Lite"}),(0,t.jsx)("li",{className:"footer-item",children:"Contact Uploading & Non-Users"}),(0,t.jsx)("li",{className:"footer-item",children:"Meta Verified"})]}),(0,t.jsxs)("div",{className:"footer-bottom",children:[(0,t.jsx)("p",{children:"English"}),(0,t.jsx)("p",{children:"\xa9 2023 Instagram from Meta"})]})]})})}},4715:function(e,s,n){var t=n(4165),i=n(5861),l=n(9439),o=n(6403),a=n(3418),r=n(8820),c=n(3271),d=n(2791),u=n(8320),p=n(1635),m=n(7783),f=n(184);s.Z=function(e){var s=e.setOpenFollow,n=e.friendId,h=(0,d.useContext)(u.V),x=h.currentUser,j=h.errorMessage,v=h.successMessage,N=h.socket,g=(0,o.NL)(),C=(0,d.useState)(!1),w=(0,l.Z)(C,2),k=w[0],y=w[1],O=x.username,Z=x.avatar,S=(0,a.D)(function(){var e=(0,i.Z)((0,t.Z)().mark((function e(i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,c.Z.post("/users/follow/unfl",i,{headers:{Authorization:"Bearer ".concat(x.accessToken)}}).then((function(e){v(e.data.message),y(!1),N.current&&N.current.emit("send-notifications",{sender:{username:O,avatar:Z},receiver:n,type:"follow"}),(0,p.handleCloseOptions)(s)})).catch((function(){j("Something went wrong..."),y(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),{onSuccess:function(){g.invalidateQueries(["posts"]),g.invalidateQueries(["friends"]),g.invalidateQueries(["users",O])}});return(0,f.jsxs)("div",{className:"pu-options",onClick:function(e){return"pu-options"===e.target.className&&(0,p.handleCloseOptions)(s)},children:[k&&(0,f.jsx)(m.Z,{}),(0,f.jsx)("div",{className:"pu-options-container",children:(0,f.jsxs)("ul",{className:"pu-options-list",children:[(0,f.jsx)("li",{className:"pu-options-item",style:{color:"#ed4956",fontWeight:500},onClick:function(){S.mutate({friendId:n})},children:"UnFollow"}),(0,f.jsx)("li",{className:"pu-options-item",onClick:function(){return(0,p.handleCloseOptions)(s)},children:"Cancel"})]})}),(0,f.jsx)(r.oHP,{className:"pu-options-close",onClick:function(){return(0,p.handleCloseOptions)(s)}})]})}},2579:function(e,s,n){var t=n(8820),i=n(1635),l=n(1087),o=n(184);s.Z=function(e){var s=e.setSwitchAccount,n=e.handleLogout;return(0,o.jsxs)("div",{className:"sa",onClick:function(e){return"sa"===e.target.className&&(0,i.handleCloseOptions)(s)},children:[(0,o.jsx)("div",{className:"sa-container",children:(0,o.jsxs)("ul",{className:"sa-list",children:[(0,o.jsx)("li",{className:"sa-item",onClick:function(){return(0,i.handleCloseOptions)(s)},children:(0,o.jsx)(l.rU,{className:"link",to:"/accounts/login",children:"Log in"})}),(0,o.jsx)("li",{className:"sa-item",onClick:function(){return(0,i.handleCloseOptions)(s)},children:(0,o.jsx)(l.rU,{className:"link",to:"/accounts/sign-up",children:"Sign up"})}),(0,o.jsx)("li",{className:"sa-item",onClick:function(){(0,i.handleCloseOptions)(s),n()},children:"Log out"}),(0,o.jsx)("li",{className:"sa-item",onClick:function(){return(0,i.handleCloseOptions)(s)},children:"Cancel"})]})}),(0,o.jsx)(t.oHP,{className:"sa-close",onClick:function(){return(0,i.handleCloseOptions)(s)}})]})}},1342:function(e,s,n){var t=n(4165),i=n(5861),l=n(9439),o=n(2791),a=n(8820),r=n(1635),c=n(6403),d=n(3418),u=n(3271),p=n(7689),m=n(8320),f=n(7783),h=n(184);s.Z=function(e){var s=e.setOpenEditProfile,n=e.currentUser,x=e.setCurrentUser,j=e.data,v=(0,o.useState)(null===j||void 0===j?void 0:j.name),N=(0,l.Z)(v,2),g=N[0],C=N[1],w=(0,o.useState)(null===j||void 0===j?void 0:j.username),k=(0,l.Z)(w,2),y=k[0],O=k[1],Z=(0,o.useState)(null===j||void 0===j?void 0:j.email),S=(0,l.Z)(Z,2),b=S[0],P=S[1],U=(0,o.useState)(null===j||void 0===j?void 0:j.bio),F=(0,l.Z)(U,2),T=F[0],L=F[1],M=(0,o.useState)(null===j||void 0===j?void 0:j.location),A=(0,l.Z)(M,2),E=A[0],D=A[1],H=(0,o.useState)(),I=(0,l.Z)(H,2),_=I[0],z=I[1],V=(0,o.useState)(!1),B=(0,l.Z)(V,2),Q=B[0],G=B[1],J=null===j||void 0===j?void 0:j.username,R=(0,p.s0)(),W=(0,o.useContext)(m.V),Y=W.successMessage,X=W.errorMessage,$=(0,c.NL)(),q=(0,d.D)(function(){var e=(0,i.Z)((0,t.Z)().mark((function e(i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.next=3,u.Z.patch("/users",i,{headers:{Authorization:"Bearer ".concat(n.accessToken)}}).then((function(e){Y(e.data.message);var t=e.data.user,i=t.id,l=t.username,o=t.avatar;x({id:i,username:l,avatar:o,accessToken:n.accessToken}),G(!1),(0,r.handleCloseOptions)(s),R("/")})).catch((function(){X("Something went wrong..."),G(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),{onSuccess:function(){J!==n.username&&$.invalidateQueries(["users",n.username])}});return(0,h.jsxs)("div",{className:"edit",onClick:function(e){return"edit"===e.target.className&&(0,r.handleCloseOptions)(s)},children:[Q&&(0,h.jsx)(f.Z,{}),(0,h.jsxs)("div",{className:"edit-container",children:[(0,h.jsx)("h2",{children:"Edit profile"}),(0,h.jsxs)("form",{className:"edit-profile",children:[(0,h.jsx)("input",{type:"text",placeholder:"Full Name",value:g,className:"edit-form-input",onChange:function(e){return C(e.target.value)}}),(0,h.jsx)("input",{type:"text",placeholder:"User Name",value:y,className:"edit-form-input",onChange:function(e){return O(e.target.value)}}),(0,h.jsx)("input",{type:"text",placeholder:"Email",value:b,className:"edit-form-input",onChange:function(e){return P(e.target.value)}}),(0,h.jsx)("input",{type:"text",placeholder:"Bio",value:T,className:"edit-form-input",onChange:function(e){return L(e.target.value)}}),(0,h.jsx)("input",{type:"text",placeholder:"Location",value:E,className:"edit-form-input",onChange:function(e){return D(e.target.value)}}),(0,h.jsxs)("div",{className:"form-edit-group",children:[(0,h.jsx)("input",{type:"file",className:"edit-profile-img",onChange:function(e){return z(e.target.files[0])}}),_&&(0,h.jsx)("img",{src:URL.createObjectURL(_),alt:""})]}),(0,h.jsx)("button",{className:"edit-btn",onClick:function(e){e.preventDefault();var s=new FormData;s.append("name",g),s.append("username",y),s.append("email",b),T&&s.append("bio",T),E&&s.append("location",E),_&&s.append("avatar",_),q.mutate(s)},children:"Submit"})]})]}),(0,h.jsx)(a.oHP,{className:"edit-close",onClick:function(){return(0,r.handleCloseOptions)(s)}})]})}},7328:function(e,s,n){n.r(s),n.d(s,{default:function(){return T}});var t=n(9439),i=n(2323),l=n(1635),o=n(7689),a=n(2791),r=n(1342),c=n(8320),d=n(8820),u=n(4715),p=n(184),m=function(e){var s=e.setOpenFollowings,n=e.setOpenFollowers,i=e.openFollowers,o=e.openFollowings,r=e.followings,c=e.followers,m=(0,a.useState)(!1),f=(0,t.Z)(m,2),h=f[0],x=f[1];return(0,p.jsxs)("div",{className:"list-fl",children:[(0,p.jsxs)("div",{className:"list-fl-container",children:[(0,p.jsx)("p",{className:"list-fl-title",children:i?"Followers":o?"Followings":null}),(0,p.jsx)("ul",{className:"list-fl-list",children:i&&(null===c||void 0===c?void 0:c.length)>0&&c.map((function(e){return(0,p.jsxs)("li",{className:"list-fl-item",children:[(0,p.jsxs)("div",{className:"list-fl-info",children:[(0,p.jsx)("img",{src:e.avatar,alt:"",className:"list-fl-img"}),(0,p.jsxs)("div",{className:"list-fl-info-name",children:[(0,p.jsx)("p",{className:"list-fl-username",children:e.username}),(0,p.jsx)("p",{className:"list-fl-name",children:e.name})]})]}),(0,p.jsx)("button",{className:"list-fl-btn",children:"Remove"})]})}))}),(0,p.jsx)("ul",{className:"list-fl-list",children:o&&(null===r||void 0===r?void 0:r.length)>0&&r.map((function(e){return(0,p.jsxs)("li",{className:"list-fl-item",children:[(0,p.jsxs)("div",{className:"list-fl-info",children:[(0,p.jsx)("img",{src:e.avatar,alt:"",className:"list-fl-img"}),(0,p.jsxs)("div",{className:"list-fl-info-name",children:[(0,p.jsx)("p",{className:"list-fl-username",children:e.username}),(0,p.jsx)("p",{className:"list-fl-name",children:e.name})]})]}),(0,p.jsx)("button",{className:"list-fl-btn",onClick:function(){return(0,l.handleOpenOptions)(x)},children:"Following"}),h&&(0,p.jsx)(u.Z,{friendId:null===e||void 0===e?void 0:e._id,setOpenFollow:x})]})}))})]}),i&&(0,p.jsx)(d.oHP,{className:"list-fl-close",onClick:function(){return(0,l.handleCloseOptions)(n)}}),o&&(0,p.jsx)(d.oHP,{className:"list-fl-close",onClick:function(){return(0,l.handleCloseOptions)(s)}})]})},f=n(4165),h=n(5861),x=n(6403),j=n(3418),v=n(3271),N=n(7783),g=n(2579),C=function(e){var s,n,i,r,u,m=e.data,C=e.isUsername,w=e.setOpenEditProfile,k=e.setOpenFollowings,y=e.setOpenFollowers,O=(0,a.useContext)(c.V),Z=O.currentUser,S=O.successMessage,b=O.errorMessage,P=O.socket,U=O.setCurrentUser,F=Z.username,T=Z.avatar,L=(0,a.useState)(!1),M=(0,t.Z)(L,2),A=M[0],E=M[1],D=(0,x.NL)(),H=(0,a.useState)(!1),I=(0,t.Z)(H,2),_=I[0],z=I[1],V=(0,j.D)(function(){var e=(0,h.Z)((0,f.Z)().mark((function e(s){return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,v.Z.post("/users/follow",s,{headers:{Authorization:"Bearer ".concat(Z.accessToken)}}).then((function(e){S(e.data.message),z(!1),P.current&&P.current.emit("send-notifications",{sender:{username:F,avatar:T},receiver:null===m||void 0===m?void 0:m._id,type:"follow"})})).catch((function(){b("Something went wrong..."),z(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),{onSuccess:function(){D.invalidateQueries(["users",null===m||void 0===m?void 0:m.username])}}),B=(0,o.s0)();return(0,p.jsxs)("div",{className:"profile-info",children:[(0,p.jsx)("img",{src:m.avatar,alt:"",className:"profile-avatar"}),(0,p.jsxs)("div",{className:"profile-details",children:[(0,p.jsxs)("div",{className:"profile-details-top",children:[(0,p.jsx)("p",{className:"profile-username",children:m.username}),Z.username===C?(0,p.jsx)("button",{className:"profile-edit-btn",onClick:function(){return(0,l.handleOpenOptions)(w)},children:"Edit profile"}):(0,p.jsx)("button",{className:"profile-edit-btn follow",onClick:function(){V.mutate({friendId:null===m||void 0===m?void 0:m._id})},children:_?(0,p.jsx)(N.Z,{}):(null===(s=m.followers)||void 0===s||null===(n=s.filter((function(e){return e._id===Z.id})))||void 0===n?void 0:n.length)>0?"UnFollow":"Follow"}),m.followers.includes(Z.id)&&(0,p.jsx)("button",{className:"profile-edit-btn",children:"Message"}),(0,p.jsx)(d.zPD,{style:{fontSize:"24px",cursor:"pointer"},onClick:function(){return(0,l.handleOpenOptions)(E)}})]}),(0,p.jsxs)("div",{className:"profile-details-follow",children:[(0,p.jsxs)("p",{className:"profile-count",children:[(0,p.jsx)("b",{children:null===(i=m.posts)||void 0===i?void 0:i.length})," posts"]}),(0,p.jsxs)("p",{className:"profile-count",style:{cursor:"pointer"},onClick:function(){return(0,l.handleOpenOptions)(y)},children:[(0,p.jsx)("b",{children:null===(r=m.followers)||void 0===r?void 0:r.length})," followers"]}),(0,p.jsxs)("p",{className:"profile-count",style:{cursor:"pointer"},onClick:function(){return(0,l.handleOpenOptions)(k)},children:[(0,p.jsx)("b",{children:null===(u=m.followings)||void 0===u?void 0:u.length})," following"]})]}),(0,p.jsxs)("div",{className:"profile-info-more",children:[m.name&&(0,p.jsx)("p",{children:m.name}),m.bio&&(0,p.jsx)("p",{children:m.bio}),m.location&&(0,p.jsx)("p",{children:m.location})]})]}),A&&(0,p.jsx)(g.Z,{setSwitchAccount:E,handleLogout:function(){z(!0),U({}),S("You have been logged out"),setTimeout((function(){B("/accounts/login")}),1e3),z(!1)}})]})},w=function(){return(0,p.jsxs)("div",{className:"profile-highlight-stories",children:[(0,p.jsxs)("div",{className:"profile-story",children:[(0,p.jsx)("img",{src:"https://i.pinimg.com/564x/17/51/d2/1751d2aa3f581b31c2ade112b2a885ae.jpg",alt:"",className:"profile-story-img"}),(0,p.jsx)("p",{className:"profile-story-name",children:"Highlight story"})]}),(0,p.jsxs)("div",{className:"profile-story-create",children:[(0,p.jsx)("div",{className:"profile-story-create-icon",children:(0,p.jsx)(d.Lfi,{style:{fontSize:"40px"}})}),(0,p.jsx)("p",{className:"profile-story-create-text",children:"New"})]})]})},k=n(7692),y=n(458),O=function(e){var s=e.setPostSaved,n=e.setPostCreated,t=e.setPostTaged,i=e.postCreated,l=e.postSaved,o=e.postTaged,a=function(e){"created"===e&&(n(!0),s(!1),t(!1)),"saved"===e&&(s(!0),n(!1),t(!1)),"tagged"===e&&(t(!0),s(!1),n(!1))};return(0,p.jsx)("div",{className:"profile-posts",children:(0,p.jsxs)("div",{className:"profile-posts-header",children:[(0,p.jsxs)("div",{className:i?"profile-posts-header-item active":"profile-posts-header-item",onClick:function(){return a("created")},children:[(0,p.jsx)(k.rp3,{className:"profile-post-header-icon"}),(0,p.jsx)("p",{className:"profile-posts-header-text",children:"POSTS"})]}),(0,p.jsxs)("div",{className:l?"profile-posts-header-item active":"profile-posts-header-item",onClick:function(){return a("saved")},children:[(0,p.jsx)(y.bX4,{className:"profile-post-header-icon"}),(0,p.jsx)("p",{className:"profile-posts-header-text",children:"SAVED"})]}),(0,p.jsxs)("div",{className:o?"profile-posts-header-item active":"profile-posts-header-item",onClick:function(){return a("tagged")},children:[(0,p.jsx)(d.w8$,{className:"profile-post-header-icon"}),(0,p.jsx)("p",{className:"profile-posts-header-text",children:"TAGGED"})]})]})})},Z=n(1087),S=n(8194),b=n(6355),P=function(e){var s=e.posts,n=e.typePost;return(0,p.jsx)("div",{className:"profile-view-posts",children:(null===s||void 0===s?void 0:s.length)>0?(0,p.jsx)("div",{className:"profile-posts-myself",children:s.map((function(e){var s,n;return(0,p.jsx)(Z.rU,{className:"link",to:"/posts/".concat(e._id),onClick:S.c,children:(0,p.jsxs)("div",{className:"profile-posts-myself-item",children:[e.image.length>1&&(0,p.jsx)(b.Jh6,{className:"profile-posts-myself-files"}),(0,p.jsx)("img",{src:e.image[0],alt:"",className:"profile-posts-myself-img"}),(0,p.jsxs)("ul",{className:"profile-posts-myself-info",children:[(0,p.jsxs)("li",{className:"profile-posts-myself-info-item",children:[(0,p.jsx)(d.M_L,{className:"profile-posts-myself-icon"}),(0,p.jsx)("span",{children:null===(s=e.likes)||void 0===s?void 0:s.length})]}),(0,p.jsxs)("li",{className:"profile-posts-myself-info-item",children:[(0,p.jsx)(b.DCG,{className:"profile-posts-myself-icon"}),(0,p.jsx)("span",{children:null===(n=e.comments)||void 0===n?void 0:n.length})]})]})]})},e._id)}))}):(0,p.jsxs)("div",{className:"profile-text",children:[(0,p.jsx)("div",{className:"profile-text-icon",children:(0,p.jsx)(d.rJU,{})}),"postCreated"===n&&(0,p.jsx)("h1",{children:"Share Posts"}),"postSaved"===n&&(0,p.jsx)("h1",{children:"Saved Posts"}),"postTaged"===n&&(0,p.jsx)("h1",{children:"Photos Of You"}),"postCreated"===n&&(0,p.jsx)("p",{className:"profile-text-suggest",children:"When you share posts, they will appear on your profile."}),"postSaved"===n&&(0,p.jsx)("p",{className:"profile-text-suggest",children:"Only you can see what you've saved."}),"postTaged"===n&&(0,p.jsx)("p",{className:"profile-text-suggest",children:"When people tag you in photos, they'll appear here."})]})})},U=n(103),F=n(3166),T=function(e){var s,n=e.openCreate,d=e.setOpenCreate,u=null===(s=(0,o.TH)().pathname)||void 0===s?void 0:s.split("/")[1],f=(0,a.useContext)(c.V),h=f.currentUser,x=f.setCurrentUser,j=(0,l.GetUserProfile)("users",u),v=j.isLoading,g=j.data,k=j.error,y=(0,a.useState)(!1),Z=(0,t.Z)(y,2),S=Z[0],b=Z[1],T=(0,a.useState)(!1),L=(0,t.Z)(T,2),M=L[0],A=L[1],E=(0,a.useState)(!1),D=(0,t.Z)(E,2),H=D[0],I=D[1],_=(0,a.useState)(!1),z=(0,t.Z)(_,2),V=z[0],B=z[1],Q=(0,a.useState)(!1),G=(0,t.Z)(Q,2),J=G[0],R=G[1],W=(0,a.useState)(!0),Y=(0,t.Z)(W,2),X=Y[0],$=Y[1];return k?(0,p.jsx)(F.Z,{}):(0,p.jsxs)("div",{className:"profile",children:[(0,p.jsx)(i.Z,{openCreate:n,setOpenCreate:d}),(0,p.jsxs)("div",{className:"profile-container",children:[v?(0,p.jsx)(N.Z,{}):k?(0,p.jsx)("p",{children:"Somethings wents wrong..."}):(0,p.jsxs)("div",{className:"profile-main",children:[(0,p.jsx)(C,{data:g,isUsername:u,currentUser:h,setOpenFollowers:b,setOpenFollowings:A,setOpenEditProfile:I}),(0,p.jsx)(w,{}),(0,p.jsx)(O,{setPostSaved:R,setPostCreated:$,setPostTaged:B,postTaged:V,postSaved:J,postCreated:X}),X&&(0,p.jsx)(P,{posts:null===g||void 0===g?void 0:g.posts,typePost:"postCreated"}),J&&(0,p.jsx)(P,{posts:null===g||void 0===g?void 0:g.bookmarks,typePost:"postSaved"}),V&&(0,p.jsx)(P,{posts:[],typePost:"postTaged"})]}),(0,p.jsx)(U.Z,{})]}),H&&(0,p.jsx)(r.Z,{setOpenEditProfile:I,currentUser:h,data:g,setCurrentUser:x}),S&&(0,p.jsx)(m,{openFollowers:S,setOpenFollowers:b,followers:g.followers}),M&&(0,p.jsx)(m,{openFollowings:M,setOpenFollowings:A,followings:g.followings})]})}},8194:function(e,s,n){n.d(s,{c:function(){return t}});var t=function(){window.scrollTo(0,0)}}}]);
//# sourceMappingURL=328.d14f812e.chunk.js.map